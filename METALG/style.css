/* ══════════════════════════════════════════════════════
   VYPER PESSOAL AGENT SYSTEM — STYLESHEET
   Landscape-first, pixel-terminal aesthetic
══════════════════════════════════════════════════════ */

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

:root {
  --bg:        #070707;
  --bg2:       #0e0e0e;
  --bg3:       #161616;
  --border:    #2c2c2c;
  --border2:   #3e3e3e;
  --red:       #cc0000;
  --red2:      #aa0000;
  --red-glow:  rgba(204,0,0,.3);
  --white:     #ffffff;
  --off:       #d0d0d0;
  --dim:       #555555;
  --green:     #00dd44;
  --yellow:    #ddb800;
  --font:      'Share Tech Mono', 'Courier New', monospace;
  --vt:        'VT323', monospace;
}

html, body { width: 100%; height: 100%; overflow: hidden; background: var(--bg); color: var(--off); font-family: var(--font); font-size: 13px; }

.hidden { display: none !important; }
.screen { position: fixed; inset: 0; display: flex; flex-direction: column; }

/* ── SCANLINES ──────────────────────────────────────── */
.scanlines {
  position: fixed; inset: 0; pointer-events: none; z-index: 900;
  background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,.07) 2px, rgba(0,0,0,.07) 4px);
}
.scanlines::after {
  content: ''; position: absolute; inset: 0;
  background: radial-gradient(ellipse at 50% 50%, transparent 55%, rgba(0,0,0,.45) 100%);
}

/* ── ROTATE PROMPT ──────────────────────────────────── */
#rotate-prompt {
  display: none;
  position: fixed; inset: 0; z-index: 9999;
  background: var(--bg);
  align-items: center; justify-content: center;
  flex-direction: column;
}
@media screen and (orientation: portrait) {
  #rotate-prompt { display: flex; }
}
.rotate-inner { display: flex; flex-direction: column; align-items: center; gap: 12px; }
.rotate-icon { font-size: 52px; color: var(--red); animation: spin 2s linear infinite; }
.rotate-text { font-family: var(--vt); font-size: 28px; letter-spacing: 4px; color: var(--white); }
.rotate-sub { font-size: 11px; color: var(--dim); letter-spacing: 2px; }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* ══════════════════════════════════════════════════════
   BOOT
══════════════════════════════════════════════════════ */
#screen-boot { align-items: center; justify-content: center; background: var(--bg); }
.boot-wrap { display: flex; flex-direction: column; align-items: center; gap: 14px; padding: 20px; max-width: 420px; width: 100%; }
.boot-logo { width: 70px; height: 70px; object-fit: contain; animation: blink 1.8s ease-in-out infinite; image-rendering: pixelated; }
.boot-title { font-family: var(--vt); font-size: 21px; letter-spacing: 3px; color: var(--white); text-align: center; }
.boot-lines { width: 100%; min-height: 70px; font-size: 11px; color: var(--dim); display: flex; flex-direction: column; gap: 2px; overflow: hidden; }
.boot-line { animation: fadein .25s ease; }
.boot-line.ok { color: var(--green); }
.boot-line.err { color: var(--red); }
.boot-bar-wrap { width: 100%; height: 3px; background: var(--border); }
.boot-bar { height: 100%; width: 0%; background: var(--red); box-shadow: 0 0 8px var(--red); transition: width .1s linear; }

/* ══════════════════════════════════════════════════════
   LOGIN
══════════════════════════════════════════════════════ */
#screen-login { align-items: center; justify-content: center; overflow-y: auto; background: var(--bg); }
.login-wrap { display: flex; flex-direction: column; gap: 14px; padding: 20px; max-width: 400px; width: 100%; }
.login-head { display: flex; align-items: center; gap: 12px; }
.login-logo { width: 48px; height: 48px; object-fit: contain; image-rendering: pixelated; }
.login-title { font-family: var(--vt); font-size: 26px; letter-spacing: 2px; color: var(--white); }
.login-sub { font-size: 10px; color: var(--red); letter-spacing: 1px; }
.login-div { height: 1px; background: linear-gradient(90deg, var(--red), transparent); }
.role-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; }
.role-btn { background: var(--bg2); border: 1px solid var(--border); color: var(--off); font-family: var(--font); padding: 12px 8px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 4px; transition: border-color .15s; }
.role-btn:hover, .role-btn.selected { border-color: var(--red); background: var(--bg3); }
.role-ico { font-size: 20px; color: var(--red); }
.role-lbl { font-size: 13px; letter-spacing: 2px; color: var(--white); }
.role-desc { font-size: 9px; color: var(--dim); text-align: center; }
.lform { display: flex; flex-direction: column; gap: 8px; animation: fadein .2s ease; }
.lform-label { font-size: 10px; color: var(--dim); letter-spacing: 1px; }
.lform-input { background: var(--bg2); border: 1px solid var(--border2); color: var(--white); font-family: var(--font); font-size: 14px; padding: 9px 10px; outline: none; letter-spacing: 2px; }
.lform-input:focus { border-color: var(--red); box-shadow: 0 0 6px var(--red-glow); }
.lform-btn { background: transparent; border: 1px solid var(--red); color: var(--red); font-family: var(--font); font-size: 12px; letter-spacing: 2px; padding: 10px; cursor: pointer; transition: background .15s, color .15s; }
.lform-btn:hover { background: var(--red); color: var(--bg); }
.lform-err { font-size: 11px; color: var(--red); padding: 7px; border: 1px solid var(--red2); background: rgba(204,0,0,.07); letter-spacing: 1px; animation: shake .4s ease; }
.login-footer { font-size: 9px; color: var(--dim); text-align: center; letter-spacing: 1px; padding-top: 4px; }

/* ══════════════════════════════════════════════════════
   SHEET — HEADER
══════════════════════════════════════════════════════ */
.s-header {
  display: flex; align-items: center; gap: 8px;
  padding: 4px 10px;
  background: var(--bg);
  border-bottom: 1px solid var(--border2);
  flex-shrink: 0; height: 32px;
}
.s-header-logo { width: 22px; height: 22px; object-fit: contain; image-rendering: pixelated; }
.s-header-title { flex: 1; font-family: var(--vt); font-size: 17px; letter-spacing: 2px; color: var(--white); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.gm-title-color { color: var(--red); }
.s-header-back { background: none; border: none; color: var(--dim); font-size: 17px; cursor: pointer; padding: 2px 6px; transition: color .2s; line-height: 1; }
.s-header-back:hover { color: var(--red); }

/* ══════════════════════════════════════════════════════
   SHEET — BODY (3 columns)
══════════════════════════════════════════════════════ */
.s-body {
  flex: 1;
  display: grid;
  grid-template-columns: 26% 1fr 22%;
  overflow: hidden;
  border: 1px solid var(--border2);
  margin: 4px;
}

/* ── LEFT ───────────────────────────────────────────── */
.s-left {
  border-right: 1px solid var(--border2);
  display: flex; flex-direction: column;
  overflow-y: auto; overflow-x: hidden;
  background: var(--bg);
}

/* Photo — polaroid style */
.photo-frame {
  flex-shrink: 0;
  position: relative;
  background: var(--white);
  padding: 5px 5px 16px 5px;
  cursor: pointer;
  overflow: hidden;
}
.photo-inner {
  position: relative;
  width: 100%;
  aspect-ratio: 3/3.2;
  background: #111;
  overflow: hidden;
}
.photo-inner img { width: 100%; height: 100%; object-fit: cover; display: block; filter: grayscale(.25) contrast(1.1); }
.photo-inner img[src=""] { display: none; }
.photo-inner img[src=""] ~ .photo-ph { display: flex; }
.photo-ph {
  position: absolute; inset: 0; display: none;
  flex-direction: column; align-items: center; justify-content: center;
  gap: 4px; font-size: 10px; color: #666; background: #111; letter-spacing: 1px;
}
.photo-hint { font-size: 9px; color: #444; }
.photo-frame:hover .photo-ph { display: flex; background: rgba(0,0,0,.6); }
/* Notch at bottom-left of polaroid */
.photo-notch {
  position: absolute; bottom: 0; left: 0;
  width: 0; height: 0;
  border-style: solid;
  border-width: 16px 0 0 18px;
  border-color: transparent transparent transparent var(--bg);
}

/* Registro */
.reg-wrap { flex: 1; min-height: 0; padding: 7px 8px; display: flex; flex-direction: column; gap: 6px; overflow-y: auto; overflow-x: hidden; }
.reg-title { font-family: var(--vt); font-size: 16px; letter-spacing: 1px; color: var(--white); border-bottom: 1px solid var(--border); padding-bottom: 3px; margin-bottom: 2px; }
.reg-field { display: flex; flex-direction: column; gap: 0; }
.reg-indent { margin-left: 4px; }
.reg-key-row { display: flex; align-items: center; gap: 3px; cursor: pointer; user-select: none; }
.reg-key-row:hover .reg-key { color: var(--white); }
.reg-tri { font-size: 9px; color: var(--red); }
.reg-key { font-family: var(--vt); font-size: 15px; letter-spacing: 1px; color: var(--white); line-height: 1.1; }
.reg-val-row { display: flex; align-items: center; gap: 2px; padding-left: 2px; }
.reg-tree { font-size: 11px; color: var(--dim); white-space: nowrap; }
.reg-val { font-size: 11px; color: var(--off); letter-spacing: 1px; cursor: pointer; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.reg-val:hover { color: var(--red); }
.reg-input { font-family: var(--font); font-size: 11px; background: var(--bg2); border: 1px solid var(--red2); color: var(--white); padding: 2px 5px; outline: none; letter-spacing: 1px; width: 100%; }
.reg-input:focus { border-color: var(--red); }

/* ── CENTER ─────────────────────────────────────────── */
.s-center {
  display: flex; flex-direction: column;
  overflow: hidden;
  background: var(--bg);
  gap: 0;
}

/* Atributos box */
.attr-box {
  flex-shrink: 0;
  border: 1px solid var(--border2);
  margin: 5px 5px 4px;
  overflow: hidden;
}
.attr-box-header {
  font-family: var(--vt); font-size: 15px; letter-spacing: 1px;
  color: var(--white);
  padding: 3px 6px;
  border-bottom: 1px solid var(--border);
  background: var(--bg2);
}

/* Attr grid */
.attr-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 3px;
  padding: 4px;
}
/* row 1: 3 equal */
.attr-grid .attr-card:nth-child(1) { grid-column: 1 / 3; }
.attr-grid .attr-card:nth-child(2) { grid-column: 3 / 5; }
.attr-grid .attr-card:nth-child(3) { grid-column: 5 / 7; }
/* row 2: 2 wide */
.attr-grid .attr-card:nth-child(4) { grid-column: 1 / 4; }
.attr-grid .attr-card:nth-child(5) { grid-column: 4 / 7; }

.attr-card {
  background: var(--bg2);
  border: 1px solid var(--border2);
  display: flex; flex-direction: column; align-items: center;
  cursor: pointer;
  position: relative; overflow: hidden;
  transition: border-color .15s;
  padding: 4px 3px 3px;
  gap: 2px;
}
.attr-card:hover { border-color: var(--white); }
.attr-card:active { background: var(--bg3); }

/* diagonal corner cut bottom-right */
.attr-cut {
  position: absolute; bottom: 0; right: 0;
  width: 0; height: 0;
  border-style: solid;
  border-width: 12px 12px 0 0;
  border-color: transparent var(--bg) transparent transparent;
}

.attr-icon-area { flex: 1; display: flex; align-items: center; justify-content: center; width: 100%; min-height: 0; }
.attr-img { display: block; width: 40px; height: 40px; object-fit: contain; image-rendering: pixelated; filter: brightness(0) invert(1); }
.attr-foot { display: flex; align-items: center; justify-content: center; gap: 4px; width: 100%; padding: 0 2px; }
.attr-foot-ico { width: 13px; height: 13px; object-fit: contain; image-rendering: pixelated; filter: brightness(0) invert(1); opacity: .7; }
.attr-grade { font-family: var(--vt); font-size: 24px; color: var(--white); letter-spacing: 1px; line-height: 1; }

/* Grade colors */
.attr-grade.grade-f   { color: #444; }
.attr-grade.grade-e   { color: #555; }
.attr-grade.grade-d   { color: #8a7a50; }
.attr-grade.grade-dp  { color: #a08845; }
.attr-grade.grade-c   { color: #8888aa; }
.attr-grade.grade-cp  { color: #9999bb; }
.attr-grade.grade-b   { color: #88aacc; }
.attr-grade.grade-bp  { color: #99bbdd; }
.attr-grade.grade-a   { color: #dddddd; }
.attr-grade.grade-ap  { color: #ffffff; }
.attr-grade.grade-app { color: #fff; text-shadow: 0 0 8px rgba(255,255,255,.7); }
.attr-grade.grade-s   { color: #ffcc44; }
.attr-grade.grade-sp  { color: #ffdd55; text-shadow: 0 0 10px rgba(255,210,0,.6); }

/* Integrity bars */
.integ-wrap {
  flex-shrink: 0;
  padding: 6px 10px 5px;
  display: flex; flex-direction: column; gap: 4px;
  border-bottom: 1px solid var(--border);
}
.integrity-bars { display: flex; flex-direction: column; gap: 3px; }
.integrity-bar {
  height: 9px;
  background: var(--border2);
  cursor: pointer;
  transition: background .12s;
  align-self: flex-start;
}
.integrity-bar[data-index="0"] { width: 100%; }
.integrity-bar[data-index="1"] { width: 85%; }
.integrity-bar[data-index="2"] { width: 70%; }
.integrity-bar[data-index="3"] { width: 55%; }
.integrity-bar[data-index="4"] { width: 38%; }
.integrity-bar.active { background: var(--white); }
.integrity-bars.warn-low  .integrity-bar.active { background: var(--yellow); }
.integrity-bars.warn-crit .integrity-bar.active { background: var(--red); }
.integ-count { font-family: var(--vt); font-size: 14px; color: var(--off); align-self: flex-end; }

/* Security badge */
.sec-wrap {
  flex: 1; display: flex; align-items: center; justify-content: center;
  padding: 8px 10px;
}
.sec-badge {
  width: 100%; padding: 10px 6px;
  text-align: center; border: 2px solid currentColor;
  position: relative; overflow: hidden;
}
.sec-badge::before { content: ''; position: absolute; inset: 0; background: currentColor; opacity: .05; }
#security-text { font-family: var(--vt); font-size: 34px; letter-spacing: 8px; position: relative; display: block; }
.sec-badge.seguro       { color: var(--white); }
.sec-badge.alerta       { color: var(--yellow); animation: pulseyellow 1.4s ease-in-out infinite; }
.sec-badge.comprometido { color: var(--red);    animation: pulsered   .7s ease-in-out infinite; }
.sec-badge.inativo      { color: var(--dim); }

/* ── RIGHT NAV ──────────────────────────────────────── */
.s-nav {
  border-left: 1px solid var(--border2);
  display: flex; flex-direction: column;
  background: var(--bg2);
  overflow-y: auto;
}
.nav-tab {
  display: flex; flex-direction: row; align-items: center;
  gap: 0;
  cursor: pointer;
  border-bottom: 1px solid var(--border);
  flex: 1;
  min-height: 0;
  transition: background .15s;
  overflow: hidden;
  user-select: none;
}
.nav-tab:hover { background: var(--bg3); }
.nav-tab.active { background: var(--bg3); }
.nav-tab.active .nav-ico-box { border-right-color: var(--white); }

.nav-ico-box {
  width: 44px; height: 100%;
  min-height: 44px;
  display: flex; align-items: center; justify-content: center;
  background: var(--red);
  border-right: 1px solid rgba(0,0,0,.3);
  flex-shrink: 0;
}
.nav-red { background: var(--red2); }
.nav-ico {
  display: block; width: 26px; height: 26px;
  object-fit: contain; image-rendering: pixelated;
  filter: brightness(0) invert(1);
}
.nav-lbl {
  flex: 1; padding: 0 6px;
  font-family: var(--vt); font-size: 16px;
  letter-spacing: 1px; color: var(--off);
  white-space: nowrap;
}
.nav-tab.active .nav-lbl { color: var(--white); }

/* TAB CONTENT OVERLAY */
.tab-overlay {
  position: absolute; inset: 0; top: 32px;
  background: var(--bg); z-index: 10;
  display: flex; flex-direction: column;
}
.tab-back {
  background: transparent; border: none; border-bottom: 1px solid var(--border);
  color: var(--red); font-family: var(--font); font-size: 12px;
  letter-spacing: 2px; padding: 8px 12px; cursor: pointer; text-align: left;
}
.tab-panel { flex: 1; display: flex; align-items: center; justify-content: center; overflow: hidden; }
.cs { display: flex; flex-direction: column; align-items: center; gap: 10px; }
.cs-ico { font-size: 28px; color: var(--red2); }
.cs-title { font-family: var(--vt); font-size: 22px; letter-spacing: 3px; color: var(--white); }
.cs-sub { font-size: 10px; color: var(--dim); letter-spacing: 2px; }

/* ══════════════════════════════════════════════════════
   GM DASHBOARD
══════════════════════════════════════════════════════ */
#screen-gm { flex-direction: column; background: var(--bg); }
.gm-body { flex: 1; overflow-y: auto; padding: 10px; display: flex; flex-direction: column; gap: 8px; }
.gm-sec-title { font-family: var(--vt); font-size: 17px; letter-spacing: 2px; color: var(--white); padding-bottom: 4px; border-bottom: 1px solid var(--border); }
.gm-list { display: flex; flex-direction: column; gap: 6px; }
.gm-empty { font-size: 11px; color: var(--dim); padding: 20px; text-align: center; letter-spacing: 1px; }

/* GM Agent Card */
.gm-agent-card { background: var(--bg2); border: 1px solid var(--border); }
.gm-card-header { display: flex; align-items: center; gap: 10px; padding: 9px 12px; cursor: pointer; user-select: none; }
.gm-card-header:hover { background: var(--bg3); }
.gm-agent-photo-sm { width: 38px; height: 38px; object-fit: cover; border: 1px solid var(--border2); flex-shrink: 0; filter: grayscale(.3); }
.gm-agent-photo-placeholder { width: 38px; height: 38px; background: var(--bg); border: 1px solid var(--border); display: flex; align-items: center; justify-content: center; font-size: 16px; color: var(--dim); flex-shrink: 0; }
.gm-card-info { flex: 1; min-width: 0; }
.gm-card-codename { font-family: var(--vt); font-size: 17px; letter-spacing: 1px; color: var(--white); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.gm-card-meta { font-size: 9px; color: var(--dim); letter-spacing: 1px; display: flex; gap: 8px; flex-wrap: wrap; margin-top: 2px; }
.gm-status-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; margin-top: 2px; }
.gm-status-dot.seguro       { background: var(--white); }
.gm-status-dot.alerta       { background: var(--yellow); box-shadow: 0 0 5px var(--yellow); }
.gm-status-dot.comprometido { background: var(--red); box-shadow: 0 0 8px var(--red); animation: pulsered .8s infinite; }
.gm-status-dot.inativo      { background: var(--dim); }
.gm-card-chevron { font-size: 12px; color: var(--dim); transition: transform .2s; flex-shrink: 0; }
.gm-agent-card.expanded .gm-card-chevron { transform: rotate(180deg); }
.gm-controls { display: none; flex-direction: column; gap: 10px; padding: 10px 12px; border-top: 1px solid var(--border); animation: fadein .2s ease; }
.gm-agent-card.expanded .gm-controls { display: flex; }
.gm-ctrl-group { display: flex; flex-direction: column; gap: 5px; }
.gm-ctrl-label { font-size: 9px; color: var(--dim); letter-spacing: 2px; }
.gm-security-btns { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; }
.gm-sec-btn { background: var(--bg); border: 1px solid var(--border); color: var(--dim); font-family: var(--font); font-size: 10px; letter-spacing: 1px; padding: 7px 4px; cursor: pointer; text-align: center; transition: all .15s; }
.gm-sec-btn.active-seguro       { border-color: #e0e0e0; color: #e0e0e0; }
.gm-sec-btn.active-alerta       { border-color: var(--yellow); color: var(--yellow); }
.gm-sec-btn.active-comprometido { border-color: var(--red); color: var(--red); }
.gm-integrity-control { display: flex; align-items: center; gap: 8px; }
.gm-integrity-bars { display: flex; gap: 3px; flex: 1; }
.gm-int-bar { flex: 1; height: 20px; background: var(--border); border: none; cursor: pointer; transition: background .15s; }
.gm-int-bar.active { background: var(--white); }
.gm-integrity-val { font-family: var(--vt); font-size: 18px; color: var(--white); min-width: 26px; text-align: right; }
.gm-active-toggle { display: flex; gap: 4px; }
.gm-toggle-btn { flex: 1; background: var(--bg); border: 1px solid var(--border); color: var(--dim); font-family: var(--font); font-size: 10px; letter-spacing: 1px; padding: 7px; cursor: pointer; text-align: center; transition: all .15s; }
.gm-toggle-btn.active-ativo  { border-color: var(--green); color: var(--green); }
.gm-toggle-btn.active-inativo { border-color: var(--dim); color: var(--dim); }
.gm-toggle-btn.active-morto  { border-color: var(--red); color: var(--red); }
.gm-attr-mini { display: grid; grid-template-columns: repeat(5, 1fr); gap: 3px; }
.gm-attr-mini-item { display: flex; flex-direction: column; align-items: center; gap: 1px; background: var(--bg); padding: 3px 2px; border: 1px solid var(--border); }
.gm-attr-mini-grade { font-family: var(--vt); font-size: 14px; color: var(--white); }
.gm-attr-mini-name { font-size: 7px; color: var(--dim); letter-spacing: .5px; text-align: center; }

/* ══════════════════════════════════════════════════════
   GRADE MODAL
══════════════════════════════════════════════════════ */
.modal-bg { position: fixed; inset: 0; background: rgba(0,0,0,.8); z-index: 500; display: flex; align-items: flex-end; justify-content: center; animation: fadein .15s ease; }
.modal-panel { background: var(--bg2); border: 1px solid var(--border2); border-bottom: none; width: 100%; max-width: 460px; padding: 14px; animation: slideup .2s ease; }
.modal-title { font-family: var(--vt); font-size: 16px; letter-spacing: 2px; color: var(--dim); margin-bottom: 10px; text-align: center; }
.modal-opts { display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; }
.grade-opt-btn { background: var(--bg3); border: 1px solid var(--border); color: var(--off); font-family: var(--vt); font-size: 22px; padding: 10px 4px; cursor: pointer; text-align: center; transition: all .12s; }
.grade-opt-btn:hover, .grade-opt-btn:active { border-color: var(--white); color: var(--white); background: #222; }
.grade-opt-btn.current { border-color: var(--red); color: var(--red); }

/* ══════════════════════════════════════════════════════
   TOAST
══════════════════════════════════════════════════════ */
.toast { position: fixed; bottom: 16px; left: 50%; transform: translateX(-50%); background: var(--bg3); border: 1px solid var(--border2); border-left: 2px solid var(--red); color: var(--off); font-size: 11px; letter-spacing: 1px; padding: 9px 16px; z-index: 999; white-space: nowrap; animation: slideup .2s ease; }
.toast.success { border-left-color: var(--green); }
.toast.error   { border-left-color: var(--red); color: var(--red); }

/* ══════════════════════════════════════════════════════
   RADIO TAB
══════════════════════════════════════════════════════ */
.radio-wrap { display: flex; flex-direction: column; width: 100%; height: 100%; padding: 8px 12px; gap: 6px; }
.radio-heading { font-family: var(--vt); font-size: 20px; letter-spacing: 3px; color: var(--white); }
.radio-stage { flex: 1; display: flex; align-items: center; justify-content: center; gap: 16px; min-height: 0; }

.radio-photo-col { display: flex; flex-direction: column; align-items: center; gap: 6px; flex-shrink: 0; }
.radio-photo-frame {
  background: var(--white);
  padding: 4px 4px 14px 4px;
  position: relative; width: 130px;
}
.radio-photo-inner { width: 100%; aspect-ratio: 1; overflow: hidden; position: relative; background: #111; }
.radio-photo-inner img { width: 100%; height: 100%; object-fit: cover; display: block; filter: grayscale(1) contrast(1.1); }
.radio-photo-ph {
  position: absolute; inset: 0; display: flex; align-items: center; justify-content: center;
  font-family: var(--vt); font-size: 48px; color: var(--border2); background: #0a0a0a;
}
.radio-photo-notch {
  position: absolute; bottom: 0; left: 0;
  width: 0; height: 0; border-style: solid;
  border-width: 14px 0 0 16px;
  border-color: transparent transparent transparent var(--bg);
}
.radio-name { font-family: var(--vt); font-size: 15px; letter-spacing: 2px; color: var(--white); }

.radio-center-col {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 10px; min-width: 0;
}
.radio-waveform-wrap { width: 100%; max-width: 220px; }
.radio-wave-svg { width: 100%; height: 50px; display: block; }
.radio-wave-line {
  fill: none; stroke: var(--white); stroke-width: 2;
  stroke-linecap: round; stroke-linejoin: round;
  opacity: 0.15;
  transition: opacity .3s;
}
.radio-wave-svg.radio-wave-active .radio-wave-line {
  opacity: 1;
  animation: waveshift 1.2s linear infinite;
}
@keyframes waveshift {
  0%   { stroke-dashoffset: 0; }
  100% { stroke-dashoffset: -40px; }
}

.radio-freq-row { display: flex; align-items: center; gap: 12px; }
.radio-arr {
  background: none; border: none; color: var(--off);
  font-size: 18px; cursor: pointer; padding: 2px 6px;
  transition: color .1s;
}
.radio-arr:hover { color: var(--white); }
.radio-freq-val { font-family: var(--vt); font-size: 36px; letter-spacing: 4px; color: var(--white); min-width: 100px; text-align: center; }

.radio-divider { width: 100%; max-width: 200px; height: 1px; background: var(--border2); }

.radio-status-badge {
  font-family: var(--vt); font-size: 17px; letter-spacing: 3px;
  padding: 4px 14px; border: 1px solid currentColor;
}
.radio-status-idle        { color: var(--dim); }
.radio-status-aguardando  { color: var(--yellow); animation: pulseyellow 1.2s ease-in-out infinite; }
.radio-status-conectado   { color: var(--green); }
.radio-status-recusado    { color: var(--red); }

.radio-btn {
  background: none; border: 1px solid var(--border2);
  color: var(--off); font-family: var(--font); font-size: 11px;
  padding: 5px 14px; cursor: pointer; letter-spacing: 1px;
  transition: border-color .1s, color .1s;
}
.radio-btn:hover { border-color: var(--white); color: var(--white); }
.radio-btn-cancel { border-color: var(--red); color: var(--red); }
.radio-btn-cancel:hover { border-color: #ff4444; color: #ff4444; }

/* GM NPC presets */
.gm-npc-list { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 4px; }
.gm-npc-item { display: flex; align-items: center; gap: 5px; background: var(--bg3); border: 1px solid var(--border); padding: 3px 5px; }
.gm-npc-thumb { width: 28px; height: 28px; object-fit: cover; flex-shrink: 0; }
.gm-npc-thumb-ph { width: 28px; height: 28px; display:flex; align-items:center; justify-content:center; background:#111; color:var(--dim); flex-shrink:0; font-size:11px; }
.gm-npc-nome { font-size: 11px; color: var(--off); }

/* GM radio controls */
.gm-radio-status { font-family: var(--vt); font-size: 14px; letter-spacing: 1px; margin-bottom: 4px; }
.gm-radio-idle       { color: var(--dim); }
.gm-radio-aguardando { color: var(--yellow); }
.gm-radio-conectado  { color: var(--green); }
.gm-radio-recusado   { color: var(--red); }
.gm-radio-freq { font-size: 11px; color: var(--dim); margin-bottom: 4px; }
.gm-radio-btns { display:flex; gap:6px; margin-top: 4px; }

/* ══════════════════════════════════════════════════════
   FITAS TAB
══════════════════════════════════════════════════════ */
.fitas-wrap { display: flex; width: 100%; height: 100%; overflow: hidden; }

.fitas-list-col {
  width: 44%; border-right: 1px solid var(--border2);
  display: flex; flex-direction: column; overflow: hidden;
}
.fitas-heading {
  font-family: var(--vt); font-size: 18px; letter-spacing: 2px;
  color: var(--white); padding: 8px 10px 6px;
  border-bottom: 1px solid var(--border);
  background: var(--bg2);
}
.fitas-tree { flex: 1; overflow-y: auto; padding: 6px 4px; }
.fitas-empty { color: var(--dim); font-size: 11px; padding: 8px 10px; }
.fita-cat { margin-bottom: 8px; }
.fita-cat-header {
  font-family: var(--vt); font-size: 15px; color: var(--off);
  padding: 3px 8px; letter-spacing: 1px;
}
.fita-item {
  display: flex; align-items: center; gap: 4px;
  padding: 4px 8px 4px 14px; cursor: pointer;
  font-size: 11px; color: var(--dim);
  border-left: 2px solid transparent;
  transition: color .1s, border-color .1s;
}
.fita-item:hover { color: var(--off); }
.fita-item.fita-item-active { color: var(--white); border-left-color: var(--red); }
.fita-tree-line { color: var(--border2); flex-shrink: 0; }
.fita-item-name { flex: 1; }

/* Player column */
.fitas-player-col {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 10px; padding: 10px 14px;
}
.cassette-wrap { width: 100%; max-width: 220px; display: flex; align-items: center; justify-content: center; }
.cassette-img { width: 100%; height: auto; display: block; filter: brightness(0) invert(1); image-rendering: pixelated; }

.fitas-progress-wrap { width: 100%; max-width: 280px; }
.fitas-prog-bar {
  position: relative; height: 4px;
  background: var(--border2); cursor: pointer;
  margin-bottom: 4px;
}
.fitas-prog-fill {
  position: absolute; left: 0; top: 0;
  height: 100%; width: 0%; background: var(--white);
  pointer-events: none;
}
.fitas-prog-knob {
  position: absolute; top: 50%; left: 0%;
  transform: translate(-50%, -50%);
  width: 10px; height: 10px; border-radius: 50%;
  background: var(--white); pointer-events: none;
}
.fitas-time-row {
  display: flex; justify-content: space-between;
  font-size: 10px; color: var(--dim); letter-spacing: 1px;
}

.fitas-controls { display: flex; align-items: center; gap: 12px; }
.fita-btn {
  background: none; border: 1px solid var(--border2);
  color: var(--off); font-family: var(--font); font-size: 12px;
  padding: 5px 10px; cursor: pointer; letter-spacing: 1px;
  transition: border-color .1s, color .1s;
}
.fita-btn:hover { border-color: var(--white); color: var(--white); }
.fita-btn.fita-btn-active { border-color: var(--red); color: var(--red); }
.fita-btn-main {
  font-size: 18px; padding: 4px 16px;
  border-color: var(--off); min-width: 48px; text-align: center;
}

.fitas-now-playing {
  font-family: var(--vt); font-size: 15px; letter-spacing: 2px;
  color: var(--white); text-align: center;
  border-top: 1px solid var(--border); width: 100%;
  padding-top: 8px; max-width: 280px;
}

/* GM fitas controls */
.gm-fitas-list { margin-bottom: 6px; }
.gm-fitas-empty { color: var(--dim); font-size: 11px; padding: 3px 0; }
.gm-fita-item {
  display: flex; align-items: center; gap: 6px;
  padding: 3px 0; font-size: 11px;
}
.gm-fita-cat-tag { color: var(--dim); width: 14px; flex-shrink: 0; }
.gm-fita-name { flex: 1; color: var(--off); }
.gm-fita-del {
  background: none; border: 1px solid var(--border2);
  color: var(--red); font-size: 10px; padding: 1px 5px; cursor: pointer;
}
.gm-fita-del:hover { border-color: var(--red); }
.gm-fitas-add { display: flex; align-items: center; gap: 4px; flex-wrap: wrap; margin-top: 4px; }
.gm-text-input {
  flex: 1; min-width: 80px; background: var(--bg3); border: 1px solid var(--border2);
  color: var(--off); font-family: var(--font); font-size: 11px; padding: 4px 6px;
}
.gm-select {
  background: var(--bg3); border: 1px solid var(--border2);
  color: var(--off); font-family: var(--font); font-size: 10px; padding: 4px 4px;
}
.gm-fita-upload-btn {
  background: var(--bg3); border: 1px solid var(--border2);
  color: var(--off); font-family: var(--font); font-size: 10px;
  padding: 4px 8px; cursor: pointer; letter-spacing: 1px;
  white-space: nowrap;
}
.gm-fita-upload-btn:hover { border-color: var(--white); }

/* ══════════════════════════════════════════════════════
   MALDIÇÕES TAB
══════════════════════════════════════════════════════ */
:root {
  --elem-sangue:       #cc0000;
  --elem-morte:        #888888;
  --elem-energia:      #8855cc;
  --elem-conhecimento: #a08840;
}

.mald-wrap {
  display: flex; flex-direction: column;
  width: 100%; height: 100%; overflow: hidden;
}
.mald-view {
  flex: 1; display: flex; flex-direction: column;
  overflow: hidden; padding: 8px 10px;
}

/* ── Element Picker ─────────────────────────────────── */
#mald-view-elem.mald-view-elem-screen { padding: 0; }

.mald-elem-grid {
  flex: 1; display: grid; grid-template-columns: repeat(4, 1fr);
  gap: 3px; min-height: 0;
}
.mald-elem-card {
  position: relative;
  background-size: cover; background-position: center;
  cursor: pointer; overflow: hidden;
  display: flex; flex-direction: column;
  align-items: stretch; justify-content: flex-end;
  border: 2px solid transparent;
  transition: border-color .25s ease, box-shadow .25s ease, filter .3s ease;
}
/* resting per-element border */
.elem-card-sangue       { border-color: rgba(204,  0,  0,.25); }
.elem-card-morte        { border-color: rgba(136,136,136,.20); }
.elem-card-energia      { border-color: rgba(136, 85,204,.25); }
.elem-card-conhecimento { border-color: rgba(160,136, 64,.25); }
/* hover: filter brighten + glow */
.elem-card-sangue:hover {
  border-color: var(--elem-sangue);
  box-shadow: 0 0 28px rgba(204,0,0,.6), inset 0 0 50px rgba(204,0,0,.08);
  filter: brightness(1.12) saturate(1.1);
}
.elem-card-morte:hover {
  border-color: var(--elem-morte);
  box-shadow: 0 0 28px rgba(136,136,136,.55), inset 0 0 50px rgba(136,136,136,.07);
  filter: brightness(1.08) saturate(0.9);
}
.elem-card-energia:hover {
  border-color: var(--elem-energia);
  box-shadow: 0 0 28px rgba(136,85,204,.6), inset 0 0 50px rgba(136,85,204,.08);
  filter: brightness(1.12) saturate(1.15);
}
.elem-card-conhecimento:hover {
  border-color: var(--elem-conhecimento);
  box-shadow: 0 0 28px rgba(160,136,64,.6), inset 0 0 50px rgba(160,136,64,.08);
  filter: brightness(1.1) saturate(1.1);
}
/* scan sweep on hover */
.mald-elem-card::before {
  content: '';
  position: absolute; left: 0; right: 0; height: 80px; top: -80px;
  background: linear-gradient(to bottom, transparent, rgba(255,255,255,.06), transparent);
  pointer-events: none; z-index: 4;
}
.mald-elem-card:hover::before { animation: elemScan .75s ease forwards; }
@keyframes elemScan {
  0%   { top: -80px; }
  100% { top: 110%; }
}
/* gradient overlay */
.mald-elem-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(to bottom, rgba(0,0,0,.1) 20%, rgba(0,0,0,.88) 100%);
  pointer-events: none;
}
/* corner number (top-right) */
.mald-elem-num {
  position: absolute; top: 8px; right: 10px; z-index: 3;
  font-family: var(--vt); font-size: 22px; letter-spacing: 2px;
  color: var(--white); opacity: .18;
}
/* corner cut top-left */
.mald-elem-corner {
  position: absolute; top: 0; left: 0; z-index: 3;
  width: 0; height: 0; border-style: solid;
  border-width: 24px 24px 0 0;
  border-color: var(--bg) transparent transparent transparent;
}
/* footer strip */
.mald-elem-footer {
  position: relative; z-index: 3;
  padding: 10px 12px 10px;
  background: rgba(0,0,0,.78);
  border-top: 2px solid rgba(255,255,255,.12);
  display: flex; flex-direction: column; gap: 5px;
}
.mald-elem-name {
  font-family: var(--vt); font-size: 25px; letter-spacing: 5px;
  line-height: 1; display: block;
  text-shadow: 0 0 8px currentColor, 0 0 20px currentColor, 0 0 3px currentColor;
  transition: text-shadow .25s;
}
.mald-elem-card:hover .mald-elem-name {
  text-shadow: 0 0 14px currentColor, 0 0 32px currentColor, 0 0 52px currentColor;
}
.mald-elem-select-hint {
  font-size: 12px; color: var(--white); letter-spacing: 3px;
  opacity: .65; transition: opacity .2s; white-space: nowrap;
}
.mald-elem-card:hover .mald-elem-select-hint { opacity: 1; color: var(--white); }

.elem-sangue       { color: var(--elem-sangue); }
.elem-morte        { color: var(--elem-morte); }
.elem-energia      { color: var(--elem-energia); }
.elem-conhecimento { color: var(--elem-conhecimento); }

/* ── Maldições Grid ─────────────────────────────────── */
#mald-view-grid {
  padding: 0;
  background: var(--bg);
  transition: background .4s ease;
}
#mald-view-grid.elem-bg-sangue       { background: radial-gradient(ellipse at 50% 0%, rgba(204,0,0,.10) 0%, var(--bg) 70%); }
#mald-view-grid.elem-bg-morte        { background: radial-gradient(ellipse at 50% 0%, rgba(120,120,120,.09) 0%, var(--bg) 70%); }
#mald-view-grid.elem-bg-energia      { background: radial-gradient(ellipse at 50% 0%, rgba(136,85,204,.11) 0%, var(--bg) 70%); }
#mald-view-grid.elem-bg-conhecimento { background: radial-gradient(ellipse at 50% 0%, rgba(160,136,64,.10) 0%, var(--bg) 70%); }

.mald-grid-header {
  position: relative;
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 12px 0 0;
  flex-shrink: 0;
  border-bottom: 1px solid var(--border);
  min-height: 44px;
}
.mald-grid-accent {
  width: 4px; min-height: 44px; flex-shrink: 0;
  background: var(--dim); transition: background .3s;
}
.mald-grid-accent.accent-sangue       { background: var(--elem-sangue);       box-shadow: 2px 0 14px var(--elem-sangue); }
.mald-grid-accent.accent-morte        { background: var(--elem-morte);        box-shadow: 2px 0 14px var(--elem-morte); }
.mald-grid-accent.accent-energia      { background: var(--elem-energia);      box-shadow: 2px 0 14px var(--elem-energia); }
.mald-grid-accent.accent-conhecimento { background: var(--elem-conhecimento); box-shadow: 2px 0 14px var(--elem-conhecimento); }

.mald-grid-header-inner {
  flex: 1; display: flex; flex-direction: column; gap: 0;
  padding: 8px 10px;
}
.mald-grid-title {
  font-family: var(--vt); font-size: 20px; letter-spacing: 3px; color: var(--white);
  line-height: 1;
}
.mald-grid-elem-lbl {
  font-size: 9px; letter-spacing: 3px; color: var(--dim); margin-top: 2px;
}

.mald-back-btn {
  background: none; border: none; color: var(--red);
  font-family: var(--font); font-size: 11px;
  letter-spacing: 2px; cursor: pointer; padding: 3px 0; flex-shrink: 0;
}
.mald-back-btn:hover { color: #ff4444; }

.mald-slots-grid {
  flex: 1; overflow-y: auto;
  display: grid; grid-template-columns: repeat(4, 1fr);
  gap: 4px; align-content: start;
  padding: 8px;
}

/* Filled slot */
.mald-slot {
  aspect-ratio: 1; background: transparent;
  border: 1px solid var(--border);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  cursor: pointer; position: relative; overflow: hidden;
  transition: border-color .2s, box-shadow .2s;
  gap: 0;
}
.mald-slot:not(.mald-slot-empty):hover {
  background: transparent;
}
/* element hover glow per slot */
.mald-slots-elem-sangue       .mald-slot:not(.mald-slot-empty):hover { border-color: var(--elem-sangue);       box-shadow: 0 0 12px rgba(204,0,0,.45),       inset 0 0 18px rgba(204,0,0,.07); }
.mald-slots-elem-morte        .mald-slot:not(.mald-slot-empty):hover { border-color: var(--elem-morte);        box-shadow: 0 0 12px rgba(120,120,120,.4),  inset 0 0 18px rgba(120,120,120,.06); }
.mald-slots-elem-energia      .mald-slot:not(.mald-slot-empty):hover { border-color: var(--elem-energia);      box-shadow: 0 0 12px rgba(136,85,204,.5),   inset 0 0 18px rgba(136,85,204,.07); }
.mald-slots-elem-conhecimento .mald-slot:not(.mald-slot-empty):hover { border-color: var(--elem-conhecimento); box-shadow: 0 0 12px rgba(160,136,64,.5),   inset 0 0 18px rgba(160,136,64,.07); }

/* icon area */
.mald-slot-icon-wrap {
  flex: 1; display: flex; align-items: center; justify-content: center;
  width: 100%; min-height: 0; padding: 6px 6px 0;
}
.mald-slot-img {
  width: 100%; height: 100%;
  object-fit: contain;
  transition: opacity .2s, transform .2s;
}
.mald-slot:not(.mald-slot-empty):hover .mald-slot-img { transform: scale(1.06); }
.mald-slots-elem-morte .mald-slot:not(.mald-slot-empty):hover .mald-slot-img { opacity: .75; }

/* name label at bottom */
.mald-slot-name {
  width: 100%; text-align: center;
  font-family: var(--vt); font-size: 11px; letter-spacing: 1px;
  color: var(--dim); padding: 2px 3px 5px;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  transition: color .2s;
}
.mald-slot:not(.mald-slot-empty):hover .mald-slot-name { color: var(--white); }

/* index badge top-left */
.mald-slot-idx {
  position: absolute; top: 4px; left: 5px;
  font-family: var(--vt); font-size: 11px;
  color: var(--border2); line-height: 1;
  pointer-events: none;
}

/* diagonal cut bottom-right */
.mald-slot-cut {
  position: absolute; bottom: 0; right: 0; width: 0; height: 0;
  border-style: solid; border-width: 10px 10px 0 0;
  border-color: transparent var(--bg) transparent transparent;
}

/* Empty slot */
.mald-slot.mald-slot-empty {
  cursor: default; pointer-events: none;
  background: rgba(255,255,255,.015);
  border-style: dashed; border-color: var(--border);
  opacity: .45;
}
.mald-slot-empty-num {
  font-family: var(--vt); font-size: 13px; color: var(--border2);
}

/* ── Curse Detail ───────────────────────────────────── */
.mald-detail-inner {
  flex: 1; overflow-y: auto;
  display: flex; flex-direction: column; gap: 10px;
  padding-top: 6px;
}
.mald-detail-top {
  display: flex; gap: 12px; align-items: flex-start; flex-shrink: 0;
}
.mald-detail-icon {
  width: 90px; height: 90px; object-fit: contain;
  flex-shrink: 0;
  background: transparent;
  border: none;
}
.mald-detail-icon-ph {
  width: 80px; height: 80px; flex-shrink: 0;
  background: var(--bg2); border: 1px solid var(--border);
  display: flex; align-items: center; justify-content: center;
  font-size: 28px; color: var(--dim);
}
.mald-detail-info { flex: 1; min-width: 0; }
.mald-detail-name {
  font-family: var(--vt); font-size: 22px; letter-spacing: 2px;
  color: var(--white); line-height: 1.1; margin-bottom: 6px;
}
.mald-detail-elem-row { display: flex; align-items: center; gap: 6px; margin-bottom: 6px; }
.mald-detail-elem-badge {
  font-family: var(--vt); font-size: 14px; letter-spacing: 2px;
  padding: 2px 8px; border: 1px solid currentColor;
}
.mald-detail-custo {
  font-size: 11px; color: var(--dim); letter-spacing: 1px; margin-bottom: 6px;
}
.mald-detect-badge {
  display: inline-block; font-family: var(--vt); font-size: 13px;
  letter-spacing: 2px; padding: 3px 8px;
}
.mald-detect-yes { border: 1px solid var(--red); color: var(--red); }
.mald-detect-no  { border: 1px solid var(--dim); color: var(--dim); }
.mald-detail-desc {
  font-size: 11px; color: var(--off); line-height: 1.7;
  letter-spacing: .5px; border-top: 1px solid var(--border);
  padding-top: 8px; white-space: pre-wrap;
}

/* GM Maldições list */
.gm-mald-list { display: flex; flex-direction: column; gap: 4px; margin-bottom: 4px; }
.mald-detail-tags { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 7px; }

/* Tag pills */
.mald-tag-pill {
  display: inline-flex; align-items: center; gap: 4px;
  font-family: var(--font); font-size: 9px; letter-spacing: 1.5px;
  padding: 2px 7px; border: 1px solid currentColor;
  white-space: nowrap;
}
.gm-tag-pill { color: var(--dim); }
.gm-tag-pill button {
  background: none; border: none; color: inherit; cursor: pointer;
  font-size: 9px; padding: 0; line-height: 1; opacity: .7;
}
.gm-tag-pill button:hover { opacity: 1; }
/* element-colored tags in detail view */
.elem-tag-sangue       { color: var(--elem-sangue);       background: rgba(204,0,0,.08); }
.elem-tag-morte        { color: var(--elem-morte);        background: rgba(136,136,136,.08); }
.elem-tag-energia      { color: var(--elem-energia);      background: rgba(136,85,204,.08); }
.elem-tag-conhecimento { color: var(--elem-conhecimento); background: rgba(160,136,64,.08); }

.gm-mald-tags-row { display: flex; flex-direction: column; gap: 0; }
.gm-mald-tags-list { display: flex; flex-wrap: wrap; gap: 4px; min-height: 0; }
.gm-mald-item {
  display: flex; align-items: center; gap: 6px;
  padding: 4px 6px; background: var(--bg3); border: 1px solid var(--border);
  font-size: 11px;
}
.gm-mald-thumb {
  width: 28px; height: 28px; object-fit: cover;
  border: 1px solid var(--border); flex-shrink: 0;
  filter: brightness(0) invert(1);
}
.gm-mald-thumb-ph {
  width: 28px; height: 28px; background: #111;
  border: 1px solid var(--border); flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  color: var(--dim); font-size: 12px;
}
.gm-mald-info { flex: 1; min-width: 0; overflow: hidden; }
.gm-mald-nome { color: var(--off); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.gm-mald-meta { font-size: 9px; color: var(--dim); margin-top: 1px; letter-spacing: .5px; }

/* ══════════════════════════════════════════════════════
   ANIMATIONS
══════════════════════════════════════════════════════ */
@keyframes fadein   { from{opacity:0} to{opacity:1} }
@keyframes slideup  { from{transform:translateY(16px) translateX(-50%);opacity:0} to{transform:translateY(0) translateX(-50%);opacity:1} }
@keyframes slideup-modal { from{transform:translateY(100%)} to{transform:translateY(0)} }
@keyframes shake    { 0%,100%{transform:translateX(0)} 25%{transform:translateX(-4px)} 75%{transform:translateX(4px)} }
@keyframes blink    { 0%,100%{opacity:1} 50%{opacity:.3} }
@keyframes pulseyellow { 0%,100%{opacity:1} 50%{opacity:.55} }
@keyframes pulsered    { 0%,100%{opacity:1} 50%{opacity:.4} }
@keyframes statusflash { 0%{transform:scale(1.04);opacity:.5} 100%{transform:scale(1);opacity:1} }
.status-changed { animation: statusflash .4s ease; }

/* scrollbar */
::-webkit-scrollbar { width: 3px; } ::-webkit-scrollbar-track { background: var(--bg); } ::-webkit-scrollbar-thumb { background: var(--border2); }

/* very small landscape screens */
@media (max-height: 360px) {
  .attr-img { width: 28px; height: 28px; }
  .attr-grade { font-size: 18px; }
  #security-text { font-size: 24px; letter-spacing: 4px; }
  .nav-ico-box { min-height: 36px; }
  .nav-lbl { font-size: 13px; }
  .reg-key { font-size: 13px; }
}

/* ── MOBILE LANDSCAPE RESPONSIVE ───────────────────── */

/* Narrow landscape phones (≤ 680px wide): hide nav labels, collapse nav */
@media (max-width: 680px) and (orientation: landscape) {
  .s-body { grid-template-columns: 28% 1fr 44px; }
  .nav-lbl { display: none; }
  .nav-ico-box { width: 44px; }
  .nav-tab { flex-direction: column; justify-content: center; }
  #security-text { font-size: 26px; letter-spacing: 4px; }
  .attr-img { width: 32px; height: 32px; }
  .attr-grade { font-size: 20px; }
  .reg-key { font-size: 13px; }
  .reg-val { font-size: 10px; }
}

/* Short landscape phones (≤ 420px tall): compact photo + tighter spacing */
@media (max-height: 420px) {
  .photo-frame { padding: 4px 4px 12px 4px; }
  .photo-inner { aspect-ratio: 3/2.2; }
  .photo-notch { border-width: 12px 0 0 14px; }
  .reg-wrap { gap: 3px; padding: 5px 6px; }
  .reg-title { font-size: 14px; margin-bottom: 0; }
  .reg-key { font-size: 12px; }
  .reg-val { font-size: 10px; }
  .integ-wrap { padding: 4px 8px 4px; }
  .integrity-bar { height: 7px; }
  .s-header { height: 28px; }
  .s-header-title { font-size: 14px; }
  .tab-back { padding: 5px 10px; font-size: 11px; }
  .attr-box { margin: 3px 3px 3px; }
  .attr-box-header { font-size: 13px; padding: 2px 5px; }
  .attr-grid { padding: 3px; gap: 2px; }
  .attr-img { width: 28px; height: 28px; }
  .attr-grade { font-size: 18px; }
  .nav-ico-box { min-height: 36px; }
}

/* Very short screens (≤ 360px tall): hide photo entirely, max space for data */
@media (max-height: 360px) and (orientation: landscape) {
  .photo-frame { display: none; }
  .reg-wrap { padding: 6px 8px; gap: 4px; }
}
